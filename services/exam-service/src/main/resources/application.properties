spring.application.name=exam-service
server.port=8087

# Database Configuration
spring.datasource.url=${DB_URL:jdbc:postgresql://localhost:5438/examdb}
spring.datasource.username=${DB_USERNAME:exam_user}
spring.datasource.password=${DB_PASSWORD:exam_pass}
spring.datasource.driver-class-name=org.postgresql.Driver

# JPA/Hibernate
spring.jpa.hibernate.ddl-auto=update
spring.jpa.show-sql=false
spring.jpa.properties.hibernate.dialect=org.hibernate.dialect.PostgreSQLDialect
spring.jpa.properties.hibernate.format_sql=true
spring.jpa.open-in-view=false

# RabbitMQ Configuration
spring.rabbitmq.host=${RABBITMQ_HOST:localhost}
spring.rabbitmq.port=${RABBITMQ_PORT:5672}
spring.rabbitmq.username=${RABBITMQ_USERNAME:admin}
spring.rabbitmq.password=${RABBITMQ_PASSWORD:admin}

# RabbitMQ Exchanges and Queues
rabbitmq.exchange.name=university.exchange
rabbitmq.queue.exam.started=exam.started.queue
rabbitmq.routing.key.exam.started=exam.started

# JWT Configuration
jwt.secret=${JWT_SECRET:your-super-secret-jwt-key-change-this-in-production}

# Internal API Secret for service-to-service communication
internal.api.secret=${INTERNAL_API_SECRET:internal-secret-key-change-in-production}

# Circuit Breaker Configuration (Resilience4j)
resilience4j.circuitbreaker.instances.notificationService.registerHealthIndicator=true
resilience4j.circuitbreaker.instances.notificationService.slidingWindowSize=10
resilience4j.circuitbreaker.instances.notificationService.minimumNumberOfCalls=5
resilience4j.circuitbreaker.instances.notificationService.permittedNumberOfCallsInHalfOpenState=3
resilience4j.circuitbreaker.instances.notificationService.automaticTransitionFromOpenToHalfOpenEnabled=true
resilience4j.circuitbreaker.instances.notificationService.waitDurationInOpenState=10s
resilience4j.circuitbreaker.instances.notificationService.failureRateThreshold=50
resilience4j.circuitbreaker.instances.notificationService.slowCallRateThreshold=100
resilience4j.circuitbreaker.instances.notificationService.slowCallDurationThreshold=5s

# Logging
logging.level.io.github.bardiakz.exam_service=INFO
logging.level.org.springframework.amqp=DEBUG
logging.level.io.github.resilience4j=DEBUG